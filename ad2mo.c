// Usage: make ad2mo.c && ./ad2mo

#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <time.h>

const char* month_names[] = {"Printuno", "Sometro", "Awtempo", "Vinro"};

typedef struct {
	int month;
	int day;
	const char* mapped_date;
} DateMapping;

DateMapping leap_day_map[] = {
	{1, 1,   "4 13"}, {1, 2,   "4 14"}, {1, 3,   "4 15"}, {1, 4,   "4 16"},
	{1, 5,   "4 17"}, {1, 6,   "4 18"}, {1, 7,   "4 19"}, {1, 8,   "4 20"},
	{1, 9,   "4 21"}, {1, 10,  "4 22"}, {1, 11,  "4 23"}, {1, 12,  "4 24"},
	{1, 13,  "4 25"}, {1, 14,  "4 26"}, {1, 15,  "4 27"}, {1, 16,  "4 28"},
	{1, 17,  "4 29"}, {1, 18,  "4 30"}, {1, 19,  "4 31"}, {1, 20,  "4 32"},
	{1, 21,  "4 33"}, {1, 22,  "4 34"}, {1, 23,  "4 35"}, {1, 24,  "4 36"},
	{1, 25,  "4 37"}, {1, 26,  "4 38"}, {1, 27,  "4 39"}, {1, 28,  "4 40"},
	{1, 29,  "4 41"}, {1, 30,  "4 42"}, {1, 31,  "4 43"},

	{2, 1,   "4 44"}, {2, 2,   "4 45"}, {2, 3,   "4 46"}, {2, 4,   "4 47"},
	{2, 5,   "4 48"}, {2, 6,   "4 49"}, {2, 7,   "4 50"}, {2, 8,   "4 51"},
	{2, 9,   "4 52"}, {2, 10,  "4 53"}, {2, 11,  "4 54"}, {2, 12,  "4 55"},
	{2, 13,  "4 56"}, {2, 14,  "4 57"}, {2, 15,  "4 58"}, {2, 16,  "4 59"},
	{2, 17,  "4 60"}, {2, 18,  "4 61"}, {2, 19,  "4 62"}, {2, 20,  "4 63"},
	{2, 21,  "4 64"}, {2, 22,  "4 65"}, {2, 23,  "4 66"}, {2, 24,  "4 67"},
	{2, 25,  "4 68"}, {2, 26,  "4 69"}, {2, 27,  "4 70"}, {2, 28,  "4 71"},
	{2, 29,  "4 72"},

	{3, 1,   "4 73"}, {3, 2,   "4 74"}, {3, 3,   "4 75"}, {3, 4,   "4 76"},
	{3, 5,   "4 77"}, {3, 6,   "4 78"}, {3, 7,   "4 79"}, {3, 8,   "4 80"},
	{3, 9,   "4 81"}, {3, 10,  "4 82"}, {3, 11,  "4 83"}, {3, 12,  "4 84"},
	{3, 13,  "4 85"}, {3, 14,  "4 86"}, {3, 15,  "4 87"}, {3, 16,  "4 88"},
	{3, 17,  "4 89"}, {3, 18,  "4 90"}, {3, 19,  "4 91"}, {3, 20,  "1 0"},
	{3, 21,  "1 1"},  {3, 22,  "1 2"},  {3, 23,  "1 3"},  {3, 24,  "1 4"},
	{3, 25,  "1 5"},  {3, 26,  "1 6"},  {3, 27,  "1 7"},  {3, 28,  "1 8"},
	{3, 29,  "1 9"},  {3, 30,  "1 10"}, {3, 31,  "1 11"},

	{4, 1,   "1 12"}, {4, 2,   "1 13"}, {4, 3,   "1 14"}, {4, 4,   "1 15"},
	{4, 5,   "1 16"}, {4, 6,   "1 17"}, {4, 7,   "1 18"}, {4, 8,   "1 19"},
	{4, 9,   "1 20"}, {4, 10,  "1 21"}, {4, 11,  "1 22"}, {4, 12,  "1 23"},
	{4, 13,  "1 24"}, {4, 14,  "1 25"}, {4, 15,  "1 26"}, {4, 16,  "1 27"},
	{4, 17,  "1 28"}, {4, 18,  "1 29"}, {4, 19,  "1 30"}, {4, 20,  "1 31"},
	{4, 21,  "1 32"}, {4, 22,  "1 33"}, {4, 23,  "1 34"}, {4, 24,  "1 35"},
	{4, 25,  "1 36"}, {4, 26,  "1 37"}, {4, 27,  "1 38"}, {4, 28,  "1 39"},
	{4, 29,  "1 40"}, {4, 30,  "1 41"},

	{5, 1,   "1 42"}, {5, 2,   "1 43"}, {5, 3,   "1 44"}, {5, 4,   "1 45"},
	{5, 5,   "1 46"}, {5, 6,   "1 47"}, {5, 7,   "1 48"}, {5, 8,   "1 49"},
	{5, 9,   "1 50"}, {5, 10,  "1 51"}, {5, 11,  "1 52"}, {5, 12,  "1 53"},
	{5, 13,  "1 54"}, {5, 14,  "1 55"}, {5, 15,  "1 56"}, {5, 16,  "1 57"},
	{5, 17,  "1 58"}, {5, 18,  "1 59"}, {5, 19,  "1 60"}, {5, 20,  "1 61"},
	{5, 21,  "1 62"}, {5, 22,  "1 63"}, {5, 23,  "1 64"}, {5, 24,  "1 65"},
	{5, 25,  "1 66"}, {5, 26,  "1 67"}, {5, 27,  "1 68"}, {5, 28,  "1 69"},
	{5, 29,  "1 70"}, {5, 30,  "1 71"}, {5, 31,  "1 72"},

	{6, 1,   "1 73"}, {6, 2,   "1 74"}, {6, 3,   "1 75"}, {6, 4,   "1 76"},
	{6, 5,   "1 77"}, {6, 6,   "1 78"}, {6, 7,   "1 79"}, {6, 8,   "1 80"},
	{6, 9,   "1 81"}, {6, 10,  "1 82"}, {6, 11,  "1 83"}, {6, 12,  "1 84"},
	{6, 13,  "1 85"}, {6, 14,  "1 86"}, {6, 15,  "1 87"}, {6, 16,  "1 88"},
	{6, 17,  "1 89"}, {6, 18,  "1 90"}, {6, 19,  "2 0"},  {6, 20,  "2 1"},
	{6, 21,  "2 2"},  {6, 22,  "2 3"},  {6, 23,  "2 4"},  {6, 24,  "2 5"},
	{6, 25,  "2 6"},  {6, 26,  "2 7"},  {6, 27,  "2 8"},  {6, 28,  "2 9"},
	{6, 29,  "2 10"}, {6, 30,  "2 11"},

	{7, 1,   "2 12"}, {7, 2,   "2 13"}, {7, 3,   "2 14"}, {7, 4,   "2 15"},
	{7, 5,   "2 16"}, {7, 6,   "2 17"}, {7, 7,   "2 18"}, {7, 8,   "2 19"},
	{7, 9,   "2 20"}, {7, 10,  "2 21"}, {7, 11,  "2 22"}, {7, 12,  "2 23"},
	{7, 13,  "2 24"}, {7, 14,  "2 25"}, {7, 15,  "2 26"}, {7, 16,  "2 27"},
	{7, 17,  "2 28"}, {7, 18,  "2 29"}, {7, 19,  "2 30"}, {7, 20,  "2 31"},
	{7, 21,  "2 32"}, {7, 22,  "2 33"}, {7, 23,  "2 34"}, {7, 24,  "2 35"},
	{7, 25,  "2 36"}, {7, 26,  "2 37"}, {7, 27,  "2 38"}, {7, 28,  "2 39"},
	{7, 29,  "2 40"}, {7, 30,  "2 41"}, {7, 31,  "2 42"},

	{8, 1,   "2 43"}, {8, 2,   "2 44"}, {8, 3,   "2 45"}, {8, 4,   "2 46"},
	{8, 5,   "2 47"}, {8, 6,   "2 48"}, {8, 7,   "2 49"}, {8, 8,   "2 50"},
	{8, 9,   "2 51"}, {8, 10,  "2 52"}, {8, 11,  "2 53"}, {8, 12,  "2 54"},
	{8, 13,  "2 55"}, {8, 14,  "2 56"}, {8, 15,  "2 57"}, {8, 16,  "2 58"},
	{8, 17,  "2 59"}, {8, 18,  "2 60"}, {8, 19,  "2 61"}, {8, 20,  "2 62"},
	{8, 21,  "2 63"}, {8, 22,  "2 64"}, {8, 23,  "2 65"}, {8, 24,  "2 66"},
	{8, 25,  "2 67"}, {8, 26,  "2 68"}, {8, 27,  "2 69"}, {8, 28,  "2 70"},
	{8, 29,  "2 71"}, {8, 30,  "2 72"}, {8, 31,  "2 73"},

	{9, 1,   "2 74"}, {9, 2,   "2 75"}, {9, 3,   "2 76"}, {9, 4,   "2 77"},
	{9, 5,   "2 78"}, {9, 6,   "2 79"}, {9, 7,   "2 80"}, {9, 8,   "2 81"},
	{9, 9,   "2 82"}, {9, 10,  "2 83"}, {9, 11,  "2 84"}, {9, 12,  "2 85"},
	{9, 13,  "2 86"}, {9, 14,  "2 87"}, {9, 15,  "2 88"}, {9, 16,  "2 89"},
	{9, 17,  "2 90"}, {9, 18,  "2 91"}, {9, 19,  "3 0"},  {9, 20,  "3 1"},
	{9, 21,  "3 2"},  {9, 22,  "3 3"},  {9, 23,  "3 4"},  {9, 24,  "3 5"},
	{9, 25,  "3 6"},  {9, 26,  "3 7"},  {9, 27,  "3 8"},  {9, 28,  "3 9"},
	{9, 29,  "3 10"}, {9, 30,  "3 11"},

	{10, 1,  "3 12"}, {10, 2,  "3 13"}, {10, 3,  "3 14"}, {10, 4,  "3 15"},
	{10, 5,  "3 16"}, {10, 6,  "3 17"}, {10, 7,  "3 18"}, {10, 8,  "3 19"},
	{10, 9,  "3 20"}, {10, 10, "3 21"}, {10, 11, "3 22"}, {10, 12, "3 23"},
	{10, 13, "3 24"}, {10, 14, "3 25"}, {10, 15, "3 26"}, {10, 16, "3 27"},
	{10, 17, "3 28"}, {10, 18, "3 29"}, {10, 19, "3 30"}, {10, 20, "3 31"},
	{10, 21, "3 32"}, {10, 22, "3 33"}, {10, 23, "3 34"}, {10, 24, "3 35"},
	{10, 25, "3 36"}, {10, 26, "3 37"}, {10, 27, "3 38"}, {10, 28, "3 39"},
	{10, 29, "3 40"}, {10, 30, "3 41"}, {10, 31, "3 42"},

	{11, 1,  "3 43"}, {11, 2,  "3 44"}, {11, 3,  "3 45"}, {11, 4,  "3 46"},
	{11, 5,  "3 47"}, {11, 6,  "3 48"}, {11, 7,  "3 49"}, {11, 8,  "3 50"},
	{11, 9,  "3 51"}, {11, 10, "3 52"}, {11, 11, "3 53"}, {11, 12, "3 54"},
	{11, 13, "3 55"}, {11, 14, "3 56"}, {11, 15, "3 57"}, {11, 16, "3 58"},
	{11, 17, "3 59"}, {11, 18, "3 60"}, {11, 19, "3 61"}, {11, 20, "3 62"},
	{11, 21, "3 63"}, {11, 22, "3 64"}, {11, 23, "3 65"}, {11, 24, "3 66"},
	{11, 25, "3 67"}, {11, 26, "3 68"}, {11, 27, "3 69"}, {11, 28, "3 70"},
	{11, 29, "3 71"}, {11, 30, "3 72"},

	{12, 1,  "3 73"}, {12, 2,  "3 74"}, {12, 3,  "3 75"}, {12, 4,  "3 76"},
	{12, 5,  "3 77"}, {12, 6,  "3 78"}, {12, 7,  "3 79"}, {12, 8,  "3 80"},
	{12, 9,  "3 81"}, {12, 10, "3 82"}, {12, 11, "3 83"}, {12, 12, "3 84"},
	{12, 13, "3 85"}, {12, 14, "3 86"}, {12, 15, "3 87"}, {12, 16, "3 88"},
	{12, 17, "3 89"}, {12, 18, "3 90"}, {12, 19, "4 0"},  {12, 20, "4 1"},
	{12, 21, "4 2"},  {12, 22, "4 3"},  {12, 23, "4 4"},  {12, 24, "4 5"},
	{12, 25, "4 6"},  {12, 26, "4 7"},  {12, 27, "4 8"},  {12, 28, "4 9"},
	{12, 29, "4 10"}, {12, 30, "4 11"}, {12, 31, "4 12"},

	{0, 0, NULL}
};

DateMapping day_map[] = {
	{1, 1,   "4 13"}, {1, 2,   "4 14"}, {1, 3,   "4 15"}, {1, 4,  "4 16"},
	{1, 5,   "4 17"}, {1, 6,   "4 18"}, {1, 7,   "4 19"}, {1, 8,  "4 20"},
	{1, 9,   "4 21"}, {1, 10,  "4 22"}, {1, 11,  "4 23"}, {1, 12, "4 24"},
	{1, 13,  "4 25"}, {1, 14,  "4 26"}, {1, 15,  "4 27"}, {1, 16, "4 28"},
	{1, 17,  "4 29"}, {1, 18,  "4 30"}, {1, 19,  "4 31"}, {1, 20, "4 32"},
	{1, 21,  "4 33"}, {1, 22,  "4 34"}, {1, 23,  "4 35"}, {1, 24, "4 36"},
	{1, 25,  "4 37"}, {1, 26,  "4 38"}, {1, 27,  "4 39"}, {1, 28, "4 40"},
	{1, 29,  "4 41"}, {1, 30,  "4 42"}, {1, 31,  "4 43"},

	{2, 1,   "4 44"}, {2, 2,   "4 45"}, {2, 3,   "4 46"}, {2, 4,  "4 47"},
	{2, 5,   "4 48"}, {2, 6,   "4 49"}, {2, 7,   "4 50"}, {2, 8,  "4 51"},
	{2, 9,   "4 52"}, {2, 10,  "4 53"}, {2, 11,  "4 54"}, {2, 12, "4 55"},
	{2, 13,  "4 56"}, {2, 14,  "4 57"}, {2, 15,  "4 58"}, {2, 16, "4 59"},
	{2, 17,  "4 60"}, {2, 18,  "4 61"}, {2, 19,  "4 62"}, {2, 20, "4 63"},
	{2, 21,  "4 64"}, {2, 22,  "4 65"}, {2, 23,  "4 66"}, {2, 24, "4 67"},
	{2, 25,  "4 68"}, {2, 26,  "4 69"}, {2, 27,  "4 70"}, {2, 28, "4 71"},

	{3, 1,   "4 72"}, {3, 2,   "4 73"}, {3, 3,   "4 74"}, {3, 4,  "4 75"},
	{3, 5,   "4 76"}, {3, 6,   "4 77"}, {3, 7,   "4 78"}, {3, 8,  "4 79"},
	{3, 9,   "4 80"}, {3, 10,  "4 81"}, {3, 11,  "4 82"}, {3, 12, "4 83"},
	{3, 13,  "4 84"}, {3, 14,  "4 85"}, {3, 15,  "4 86"}, {3, 16, "4 87"},
	{3, 17,  "4 88"}, {3, 18,  "4 89"}, {3, 19,  "4 90"}, {3, 20, "4 91"},
	{3, 21,  "1 0"},  {3, 22,  "1 1"},  {3, 23,  "1 2"},  {3, 24, "1 3"},
	{3, 25,  "1 4"},  {3, 26,  "1 5"},  {3, 27,  "1 6"},  {3, 28, "1 7"},
	{3, 29,  "1 8"},  {3, 30,  "1 9"},  {3, 31,  "1 10"},

	{4, 1,   "1 11"}, {4, 2,   "1 12"}, {4, 3,   "1 13"}, {4, 4,  "1 14"},
	{4, 5,   "1 15"}, {4, 6,   "1 16"}, {4, 7,   "1 17"}, {4, 8,  "1 18"},
	{4, 9,   "1 19"}, {4, 10,  "1 20"}, {4, 11,  "1 21"}, {4, 12, "1 22"},
	{4, 13,  "1 23"}, {4, 14,  "1 24"}, {4, 15,  "1 25"}, {4, 16, "1 26"},
	{4, 17,  "1 27"}, {4, 18,  "1 28"}, {4, 19,  "1 29"}, {4, 20, "1 30"},
	{4, 21,  "1 31"}, {4, 22,  "1 32"}, {4, 23,  "1 33"}, {4, 24, "1 34"},
	{4, 25,  "1 35"}, {4, 26,  "1 36"}, {4, 27,  "1 37"}, {4, 28, "1 38"},
	{4, 29,  "1 39"}, {4, 30,  "1 40"},

	{5, 1,   "1 41"}, {5, 2,   "1 42"}, {5, 3,   "1 43"}, {5, 4,  "1 44"},
	{5, 5,   "1 45"}, {5, 6,   "1 46"}, {5, 7,   "1 47"}, {5, 8,  "1 48"},
	{5, 9,   "1 49"}, {5, 10,  "1 50"}, {5, 11,  "1 51"}, {5, 12, "1 52"},
	{5, 13,  "1 53"}, {5, 14,  "1 54"}, {5, 15,  "1 55"}, {5, 16, "1 56"},
	{5, 17,  "1 57"}, {5, 18,  "1 58"}, {5, 19,  "1 59"}, {5, 20, "1 60"},
	{5, 21,  "1 61"}, {5, 22,  "1 62"}, {5, 23,  "1 63"}, {5, 24, "1 64"},
	{5, 25,  "1 65"}, {5, 26,  "1 66"}, {5, 27,  "1 67"}, {5, 28, "1 68"},
	{5, 29,  "1 69"}, {5, 30,  "1 70"}, {5, 31,  "1 71"},

	{6, 1,   "1 72"}, {6, 2,   "1 73"}, {6, 3,   "1 74"}, {6, 4,  "1 75"},
	{6, 5,   "1 76"}, {6, 6,   "1 77"}, {6, 7,   "1 78"}, {6, 8,  "1 79"},
	{6, 9,   "1 80"}, {6, 10,  "1 81"}, {6, 11,  "1 82"}, {6, 12, "1 83"},
	{6, 13,  "1 84"}, {6, 14,  "1 85"}, {6, 15,  "1 86"}, {6, 16, "1 87"},
	{6, 17,  "1 88"}, {6, 18,  "1 89"}, {6, 19,  "1 90"}, {6, 20, "2 0"},
	{6, 21,  "2 1"},  {6, 22,  "2 2"},  {6, 23,  "2 3"},  {6, 24, "2 4"},
	{6, 25,  "2 5"},  {6, 26,  "2 6"},  {6, 27,  "2 7"},  {6, 28, "2 8"},
	{6, 29,  "2 9"},  {6, 30,  "2 10"},

	{7, 1,   "2 11"}, {7, 2,   "2 12"}, {7, 3,   "2 13"}, {7, 4,  "2 14"},
	{7, 5,   "2 15"}, {7, 6,   "2 16"}, {7, 7,   "2 17"}, {7, 8,  "2 18"},
	{7, 9,   "2 19"}, {7, 10,  "2 20"}, {7, 11,  "2 21"}, {7, 12, "2 22"},
	{7, 13,  "2 23"}, {7, 14,  "2 24"}, {7, 15,  "2 25"}, {7, 16, "2 26"},
	{7, 17,  "2 27"}, {7, 18,  "2 28"}, {7, 19,  "2 29"}, {7, 20, "2 30"},
	{7, 21,  "2 31"}, {7, 22,  "2 32"}, {7, 23,  "2 33"}, {7, 24, "2 34"},
	{7, 25,  "2 35"}, {7, 26,  "2 36"}, {7, 27,  "2 37"}, {7, 28, "2 38"},
	{7, 29,  "2 39"}, {7, 30,  "2 40"}, {7, 31,  "2 41"},

	{8, 1,   "2 42"}, {8, 2,   "2 43"}, {8, 3,   "2 44"}, {8, 4,  "2 45"},
	{8, 5,   "2 46"}, {8, 6,   "2 47"}, {8, 7,   "2 48"}, {8, 8,  "2 49"},
	{8, 9,   "2 50"}, {8, 10,  "2 51"}, {8, 11,  "2 52"}, {8, 12, "2 53"},
	{8, 13,  "2 54"}, {8, 14,  "2 55"}, {8, 15,  "2 56"}, {8, 16, "2 57"},
	{8, 17,  "2 58"}, {8, 18,  "2 59"}, {8, 19,  "2 60"}, {8, 20, "2 61"},
	{8, 21,  "2 62"}, {8, 22,  "2 63"}, {8, 23,  "2 64"}, {8, 24, "2 65"},
	{8, 25,  "2 66"}, {8, 26,  "2 67"}, {8, 27,  "2 68"}, {8, 28, "2 69"},
	{8, 29,  "2 70"}, {8, 30,  "2 71"}, {8, 31,  "2 72"},

	{9, 1,   "2 73"}, {9, 2,   "2 74"}, {9, 3,   "2 75"}, {9, 4,  "2 76"},
	{9, 5,   "2 77"}, {9, 6,   "2 78"}, {9, 7,   "2 79"}, {9, 8,  "2 80"},
	{9, 9,   "2 81"}, {9, 10,  "2 82"}, {9, 11,  "2 83"}, {9, 12, "2 84"},
	{9, 13,  "2 85"}, {9, 14,  "2 86"}, {9, 15,  "2 87"}, {9, 16, "2 88"},
	{9, 17,  "2 89"}, {9, 18,  "2 90"}, {9, 19,  "3 0"},  {9, 20, "3 1"},
	{9, 21,  "3 2"},  {9, 22,  "3 3"},  {9, 23,  "3 4"},  {9, 24, "3 5"},
	{9, 25,  "3 6"},  {9, 26,  "3 7"},  {9, 27,  "3 8"},  {9, 28, "3 9"},
	{9, 29,  "3 10"}, {9, 30,  "3 11"},

	{10, 1,  "3 12"}, {10, 2,  "3 13"}, {10, 3,  "3 14"}, {10, 4,  "3 15"},
	{10, 5,  "3 16"}, {10, 6,  "3 17"}, {10, 7,  "3 18"}, {10, 8,  "3 19"},
	{10, 9,  "3 20"}, {10, 10, "3 21"}, {10, 11, "3 22"}, {10, 12, "3 23"},
	{10, 13, "3 24"}, {10, 14, "3 25"}, {10, 15, "3 26"}, {10, 16, "3 27"},
	{10, 17, "3 28"}, {10, 18, "3 29"}, {10, 19, "3 30"}, {10, 20, "3 31"},
	{10, 21, "3 32"}, {10, 22, "3 33"}, {10, 23, "3 34"}, {10, 24, "3 35"},
	{10, 25, "3 36"}, {10, 26, "3 37"}, {10, 27, "3 38"}, {10, 28, "3 39"},
	{10, 29, "3 40"}, {10, 30, "3 41"}, {10, 31, "3 42"},

	{11, 1,  "3 43"}, {11, 2,  "3 44"}, {11, 3,  "3 45"}, {11, 4,  "3 46"},
	{11, 5,  "3 47"}, {11, 6,  "3 48"}, {11, 7,  "3 49"}, {11, 8,  "3 50"},
	{11, 9,  "3 51"}, {11, 10, "3 52"}, {11, 11, "3 53"}, {11, 12, "3 54"},
	{11, 13, "3 55"}, {11, 14, "3 56"}, {11, 15, "3 57"}, {11, 16, "3 58"},
	{11, 17, "3 59"}, {11, 18, "3 60"}, {11, 19, "3 61"}, {11, 20, "3 62"},
	{11, 21, "3 63"}, {11, 22, "3 64"}, {11, 23, "3 65"}, {11, 24, "3 66"},
	{11, 25, "3 67"}, {11, 26, "3 68"}, {11, 27, "3 69"}, {11, 28, "3 70"},
	{11, 29, "3 71"}, {11, 30, "3 72"},

	{12, 1,  "3 73"}, {12, 2,  "3 74"}, {12, 3,  "3 75"}, {12, 4,  "3 76"},
	{12, 5,  "3 77"}, {12, 6,  "3 78"}, {12, 7,  "3 79"}, {12, 8,  "3 80"},
	{12, 9,  "3 81"}, {12, 10, "3 82"}, {12, 11, "3 83"}, {12, 12, "3 84"},
	{12, 13, "3 85"}, {12, 14, "3 86"}, {12, 15, "3 87"}, {12, 16, "3 88"},
	{12, 17, "3 89"}, {12, 18, "3 90"}, {12, 19, "4 0"},  {12, 20, "4 1"},
	{12, 21, "4 2"},  {12, 22, "4 3"},  {12, 23, "4 4"},  {12, 24, "4 5"},
	{12, 25, "4 6"},  {12, 26, "4 7"},  {12, 27, "4 8"},  {12, 28, "4 9"},
	{12, 29, "4 10"}, {12, 30, "4 11"}, {12, 31, "4 12"},

	{0, 0, NULL}
};

int is_leap_year(int year) {
	return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
}

void current_date(int *year, int *month, int *day) {
	time_t t = time(NULL);
	struct tm tm = *gmtime(&t);

	*year  = tm.tm_year + 1900;
	*month = tm.tm_mon + 1;
	*day   = tm.tm_mday;
}

const char* lookup_mapped_date(int month, int day, int is_leap) {
	DateMapping* map = is_leap ? leap_day_map : day_map;

	for (DateMapping* m = map; m->mapped_date; m++) {
		if (m->month == month && m->day == day) {
			return m->mapped_date;
		}
	}

	return NULL;
}

void map_date(int year, int month, int day, int *mo_year, int *mo_month, int *mo_day) {
	int year_is_leap  = is_leap_year(year);
	int first_mo_gday = year_is_leap ? 20 : 21;

	*mo_year = (month <= 2 || (month == 3 && day < first_mo_gday))
		? year - 2025
		: year - 2024;

	const char* mapped_date = lookup_mapped_date(month, day, year_is_leap);

	if (mapped_date && sscanf(mapped_date, "%d %d", mo_month, mo_day) != 2) {
		*mo_month = 0;
		*mo_day   = 0;
	}
}

int main() {
	int year, month, day;
	int mo_year, mo_month, mo_day;

	current_date(&year, &month, &day);
	map_date(year, month, day, &mo_year, &mo_month, &mo_day);

	if (mo_day == 91) {
		if (mo_month == 4) {
			printf("Mekadimo Day, %d\n", mo_year);
		} else if (mo_month == 2) {
			printf("Datakoro Day, %d\n", mo_year);
		}
	} else if (mo_month > 0 && mo_month < 5) {
		printf("%s %d, %d\n", month_names[mo_month - 1], mo_day, mo_year);
	} else {
		printf("Invalid date mapping\n");
	}

	return 0;
}
